let input = document.querySelector('input');
let fd = new FormData();
let dataUrl = 'data:image/png;base64,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';

input.addEventListener('change', () => {
  console.log(input.files);

  fd.append('photos', dataURLToBlob(dataUrl), `${Math.trunc(Math.random() * 1000000)}.png`);
  request(fd);
});

function request(fd) {
  axios({
    method: 'post',
    url: 'http://localhost:3000/uploads/multiple',
    data: fd
  });
}

// DataURL转Blob对象
function dataURLToBlob(dataurl) {
  var arr = dataurl.split(',');
  var mime = arr[0].match(/:(.*?);/)[1];
  var bstr = atob(arr[1]);
  var n = bstr.length;
  var u8arr = new Uint8Array(n);
  while (n--) {
    u8arr[n] = bstr.charCodeAt(n);
  }
  return new Blob([u8arr], { type: mime });
}